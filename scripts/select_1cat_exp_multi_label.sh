#!/bin/bash
# ST21pv=(T005 T007 T017 T022 T031 T033 T037 T038 T058 T062 T074 T082 T091 T092 T097 T098 T103 T168 T170 T201 T204)
# ST21pv=(T005 T007 T017 T022 T031 T033 T037 T038 T058 T062)
UMLS_CATS=(T000 T116 T020 T052 T100 T087 T011 T190 T008 T017 T195 T194 T123 T007 T031 T022 T053 T038 T012 T029 T091 T122 T023 T030 T026 T043 T025 T019 T103 T120 T104 T185 T201 T200 T077 T049 T088 T060 T056 T203 T047 T065 T069 T196 T050 T018 T071 T126 T204 T051 T099 T021 T013 T033 T004 T168 T169 T045 T083 T028 T064 T102 T096 T068 T093 T058 T131 T125 T016 T078 T129 T055 T197 T037 T170 T130 T171 T059 T034 T015 T063 T066 T074 T041 T073 T048 T044 T085 T191 T114 T070 T086 T057 T090 T109 T032 T040 T001 T092 T042 T046 T072 T067 T039 T121 T002 T101 T098 T097 T094 T080 T081 T192 T014 T062 T075 T089 T167 T095 T054 T184 T082 T024 T079 T061 T005 T127 T010)
# ST21pv=(T062)
dir=`dirname $0`
# source ${dir}/params.sh

get_make () {
    FOCUS_CATS=$1
    NEGATIVE_CATS=`poetry run python -m cli.get_umls_negative_cats --focus-cats ${FOCUS_CATS}`
    echo "FOCUS_CATS=${FOCUS_CATS} NEGATIVE_CATS=\"${NEGATIVE_CATS}\" make eval_flatten_marginal_softmax_gold"
}

for cat in ${UMLS_CATS[@]}; do
    echo $cat
    OLD_IFS=$IFS
    IFS=$'\n'
    CMD=`get_make ${cat}`
    eval $CMD
    IFS=$OLD_IFS
done
